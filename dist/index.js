"use strict";const be=(e,t)=>e===t,xe=Symbol("solid-track"),V={equals:be};let Ce=fe;const I=1,j=2,re={owned:null,cleanups:null,context:null,owner:null};var h=null;let K=null,f=null,g=null,U=null,W=0;function D(e,t){const s=f,n=h,l=e.length===0,i=l?re:{owned:null,cleanups:null,context:null,owner:t===void 0?n:t},c=l?e:()=>e(()=>E(()=>z(i)));h=i,f=null;try{return M(c,!0)}finally{f=s,h=n}}function x(e,t){t=t?Object.assign({},V,t):V;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=l=>(typeof l=="function"&&(l=l(s.value)),ce(s,l));return[oe.bind(s),n]}function N(e,t,s){const n=ae(e,t,!1,I);F(n)}function Q(e,t,s){s=s?Object.assign({},V,s):V;const n=ae(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,F(n),oe.bind(n)}function E(e){if(f===null)return e();const t=f;f=null;try{return e()}finally{f=t}}function $e(e){return h===null||(h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e)),e}function oe(){if(this.sources&&this.state)if(this.state===I)F(this);else{const e=g;g=null,M(()=>R(this),!1),g=e}if(f){const e=this.observers?this.observers.length:0;f.sources?(f.sources.push(this),f.sourceSlots.push(e)):(f.sources=[this],f.sourceSlots=[e]),this.observers?(this.observers.push(f),this.observerSlots.push(f.sources.length-1)):(this.observers=[f],this.observerSlots=[f.sources.length-1])}return this.value}function ce(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&M(()=>{for(let l=0;l<e.observers.length;l+=1){const i=e.observers[l],c=K&&K.running;c&&K.disposed.has(i),(c?!i.tState:!i.state)&&(i.pure?g.push(i):U.push(i),i.observers&&de(i)),c||(i.state=I)}if(g.length>1e6)throw g=[],new Error},!1)),t}function F(e){if(!e.fn)return;z(e);const t=h,s=f,n=W;f=h=e,Se(e,e.value,n),f=s,h=t}function Se(e,t,s){let n;try{n=e.fn(t)}catch(l){return e.pure&&(e.state=I,e.owned&&e.owned.forEach(z),e.owned=null),e.updatedAt=s+1,he(l)}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?ce(e,n):e.value=n,e.updatedAt=s)}function ae(e,t,s,n=I,l){const i={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:h,context:null,pure:s};return h===null||h!==re&&(h.owned?h.owned.push(i):h.owned=[i]),i}function ue(e){if(e.state===0)return;if(e.state===j)return R(e);if(e.suspense&&E(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<W);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===I)F(e);else if(e.state===j){const n=g;g=null,M(()=>R(e,t[0]),!1),g=n}}function M(e,t){if(g)return e();let s=!1;t||(g=[]),U?s=!0:U=[],W++;try{const n=e();return _e(s),n}catch(n){s||(U=null),g=null,he(n)}}function _e(e){if(g&&(fe(g),g=null),e)return;const t=U;U=null,t.length&&M(()=>Ce(t),!1)}function fe(e){for(let t=0;t<e.length;t++)ue(e[t])}function R(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const l=n.state;l===I?n!==t&&(!n.updatedAt||n.updatedAt<W)&&ue(n):l===j&&R(n,t)}}}function de(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=j,s.pure?g.push(s):U.push(s),s.observers&&de(s))}}function z(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),l=s.observers;if(l&&l.length){const i=l.pop(),c=s.observerSlots.pop();n<l.length&&(i.sourceSlots[c]=n,l[n]=i,s.observerSlots[n]=c)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function he(e){throw e}const Ae=Symbol("fallback");function se(e){for(let t=0;t<e.length;t++)e[t]()}function Ue(e,t,s={}){let n=[],l=[],i=[],c=0,r=t.length>1?[]:null;return $e(()=>se(i)),()=>{let a=e()||[],u,o;return a[xe],E(()=>{let d=a.length,p,C,A,y,_,m,b,$,T;if(d===0)c!==0&&(se(i),i=[],n=[],l=[],c=0,r&&(r=[])),s.fallback&&(n=[Ae],l[0]=D(ve=>(i[0]=ve,s.fallback())),c=1);else if(c===0){for(l=new Array(d),o=0;o<d;o++)n[o]=a[o],l[o]=D(w);c=d}else{for(A=new Array(d),y=new Array(d),r&&(_=new Array(d)),m=0,b=Math.min(c,d);m<b&&n[m]===a[m];m++);for(b=c-1,$=d-1;b>=m&&$>=m&&n[b]===a[$];b--,$--)A[$]=l[b],y[$]=i[b],r&&(_[$]=r[b]);for(p=new Map,C=new Array($+1),o=$;o>=m;o--)T=a[o],u=p.get(T),C[o]=u===void 0?-1:u,p.set(T,o);for(u=m;u<=b;u++)T=n[u],o=p.get(T),o!==void 0&&o!==-1?(A[o]=l[u],y[o]=i[u],r&&(_[o]=r[u]),o=C[o],p.set(T,o)):i[u]();for(o=m;o<d;o++)o in A?(l[o]=A[o],i[o]=y[o],r&&(r[o]=_[o],r[o](o))):l[o]=D(w);l=l.slice(0,c=d),n=a.slice(0)}return l});function w(d){if(i[o]=d,r){const[p,C]=x(o);return r[o]=C,t(a[o],p)}return t(a[o])}}}function v(e,t){return E(()=>e(t||{}))}const Ee=e=>`Stale read from <${e}>.`;function Ie(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Q(Ue(()=>e.each,e.children,t||void 0))}function O(e){const t=e.keyed,s=Q(()=>e.when,void 0,{equals:(n,l)=>t?n===l:!n==!l});return Q(()=>{const n=s();if(n){const l=e.children;return typeof l=="function"&&l.length>0?E(()=>l(t?n:()=>{if(!E(s))throw Ee("Show");return e.when})):l}return e.fallback},void 0,void 0)}function Le(e,t,s){let n=s.length,l=t.length,i=n,c=0,r=0,a=t[l-1].nextSibling,u=null;for(;c<l||r<i;){if(t[c]===s[r]){c++,r++;continue}for(;t[l-1]===s[i-1];)l--,i--;if(l===c){const o=i<n?r?s[r-1].nextSibling:s[i-r]:a;for(;r<i;)e.insertBefore(s[r++],o)}else if(i===r)for(;c<l;)(!u||!u.has(t[c]))&&t[c].remove(),c++;else if(t[c]===s[i-1]&&s[r]===t[l-1]){const o=t[--l].nextSibling;e.insertBefore(s[r++],t[c++].nextSibling),e.insertBefore(s[--i],o),t[l]=s[i]}else{if(!u){u=new Map;let w=r;for(;w<i;)u.set(s[w],w++)}const o=u.get(t[c]);if(o!=null)if(r<o&&o<i){let w=c,d=1,p;for(;++w<l&&w<i&&!((p=u.get(t[w]))==null||p!==o+d);)d++;if(d>o-r){const C=t[c];for(;r<o;)e.insertBefore(s[r++],C)}else e.replaceChild(s[r++],t[c++])}else c++;else t[c++].remove()}}}const ne="_$DX_DELEGATE";function Te(e,t,s,n={}){let l;return D(i=>{l=i,t===document?e():S(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{l(),t.textContent=""}}function L(e,t,s){let n;const l=()=>{const c=document.createElement("template");return c.innerHTML=e,s?c.content.firstChild.firstChild:c.content.firstChild},i=t?()=>(n||(n=l())).cloneNode(!0):()=>E(()=>document.importNode(n||(n=l()),!0));return i.cloneNode=i,i}function ge(e,t=window.document){const s=t[ne]||(t[ne]=new Set);for(let n=0,l=e.length;n<l;n++){const i=e[n];s.has(i)||(s.add(i),t.addEventListener(i,Be))}}function X(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function ke(e,t){t==null?e.removeAttribute("class"):e.className=t}function S(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return H(e,t,n,s);N(l=>H(e,t(),l,s),n)}function Be(e){const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}});s;){const n=s[t];if(n&&!s.disabled){const l=s[`${t}Data`];if(l!==void 0?n.call(s,l,e):n.call(s,e),e.cancelBubble)return}s=s._$host||s.parentNode||s.host}}function H(e,t,s,n,l){for(;typeof s=="function";)s=s();if(t===s)return s;const i=typeof t,c=n!==void 0;if(e=c&&s[0]&&s[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),c){let r=s[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),s=k(e,s,n,r)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t;else if(t==null||i==="boolean")s=k(e,s,n);else{if(i==="function")return N(()=>{let r=t();for(;typeof r=="function";)r=r();s=H(e,r,s,n)}),()=>s;if(Array.isArray(t)){const r=[],a=s&&Array.isArray(s);if(Z(r,t,s,l))return N(()=>s=H(e,r,s,n,!0)),()=>s;if(r.length===0){if(s=k(e,s,n),c)return s}else a?s.length===0?le(e,r,n):Le(e,s,r):(s&&k(e),le(e,r));s=r}else if(t instanceof Node){if(Array.isArray(s)){if(c)return s=k(e,s,n,t);k(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}else console.warn("Unrecognized value. Skipped inserting",t)}return s}function Z(e,t,s,n){let l=!1;for(let i=0,c=t.length;i<c;i++){let r=t[i],a=s&&s[i];if(r instanceof Node)e.push(r);else if(!(r==null||r===!0||r===!1))if(Array.isArray(r))l=Z(e,r,a)||l;else if(typeof r=="function")if(n){for(;typeof r=="function";)r=r();l=Z(e,Array.isArray(r)?r:[r],Array.isArray(a)?a:[a])||l}else e.push(r),l=!0;else{const u=String(r);a&&a.nodeType===3?(a.data=u,e.push(a)):e.push(document.createTextNode(u))}}return l}function le(e,t,s=null){for(let n=0,l=t.length;n<l;n++)e.insertBefore(t[n],s)}function k(e,t,s,n){if(s===void 0)return e.textContent="";const l=n||document.createTextNode("");if(t.length){let i=!1;for(let c=t.length-1;c>=0;c--){const r=t[c];if(l!==r){const a=r.parentNode===e;!i&&!c?a?e.replaceChild(l,r):e.insertBefore(l,s):a&&r.remove()}else i=!0}}else e.insertBefore(l,s);return[l]}const Ne=L('<button id="chat-button" class="bg-gradient-to-r from-emerald-500 to-indigo-600"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="28" height="28"><path fill="none" d="M0 0h28v24H0z"></path><path d="M10 3h4a8 8 0 1 1 0 16v3.5c-5-2-12-5-12-11.5a8 8 0 0 1 8-8zm2 14h2a6 6 0 1 0 0-12h-4a6 6 0 0 0-6 6c0 3.61 2.462 5.966 8 8.48V17z" fill="rgba(255,255,255,1)"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z" fill="rgba(255,255,255,1)">');function Me(){const[e,t]=x("plus-icon"),[s,n]=x("close-icon"),l=()=>{q()?(t("plus-icon close-icon-animate"),n("cose-icon plus-icon-animate")):(t("plus-icon plus-icon-animate"),n("close-icon close-icon-animate")),it(!q())};return(()=>{const i=Ne(),c=i.firstChild,r=c.nextSibling;return i.$$click=l,N(a=>{const u=`${e()}`,o=s();return u!==a._v$&&X(c,"class",a._v$=u),o!==a._v$2&&X(r,"class",a._v$2=o),a},{_v$:void 0,_v$2:void 0}),i})()}ge(["click"]);const Pe=L('<div class="chat-message fade-in"><div class="flex items-end justify-end"><div class="flex flex-col items-end space-y-2 text-xs mx-2 max-w-xs order-1"><div><span class="inline-block px-4 py-2 bg-blue-600 text-white rounded-lg rounded-br-none"></span></div></div><img src="/src/assets/primary-user.png" alt="Primary User Profile" class="w-7 h-7 rounded-full order-2">');function Oe(e){return(()=>{const t=Pe(),s=t.firstChild,n=s.firstChild,l=n.firstChild,i=l.firstChild;return S(i,()=>e.message),t})()}const De=L('<div class="chat-message fade-in"><div class="flex items-end"><div class="flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start"><div><span class="px-4 py-2 rounded-lg inline-block rounded-bl-none bg-gray-200 text-black-600" style="color:black;"></span></div></div><img src="/src/assets/secondary-user.png" alt="Secondary User Profile" class="w-8 h-8 rounded-full order-1">');function Ve(e){return(()=>{const t=De(),s=t.firstChild,n=s.firstChild,l=n.firstChild,i=l.firstChild;return S(i,()=>e.message),t})()}const je=L('<div class="chat-message fade-in"><div class="flex items-end"><div class="flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start"><div><div class="chat-typing-bubble h-8"><div class="typing"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div></div></div><img src="/src/assets/secondary-user.png" alt="Secondary User Profile" class="w-8 h-8 rounded-full order-1">');function Re(){return je()}const He=L('<span class="absolute text-green-500 right-0 bottom-0"><svg width="20" height="20"><circle cx="4" cy="4" r="4" fill="currentColor">'),qe=L('<span class="absolute text-gray-500 right-0 bottom-0"><svg width="20" height="20"><circle cx="4" cy="4" r="4" fill="currentColor">'),We=L('<div id="chat-widget"><div class="flex-1 p:1 sm:p-4 justify-end flex flex-col transition duration-1000 ease-in-out"><div class="flex sm:items-center justify-between pt-0 pb-3 border-b-2 border-gray-200 "><div class="relative flex items-center space-x-4"><div class="relative"><img alt="" class="w-8 sm:w-12 h-8 sm:h-12 rounded-full"></div><div class="flex flex-col leading-tight"><div class="text-lg mt-0 flex items-center"><span class="text-gray-700 mr-3"></span></div><span class="text-sm text-gray-500"></span></div></div><div class="flex items-center space-x-1"></div></div><div id="messages" class="message-box flex flex-col space-y-4 p-3 overflow-y-auto scrollbar-w-2 scrolling-touch"></div><div class="border-t-2 border-gray-200 px-0 pt-3 mb-2 sm:mb-0"><div class="relative flex"><input type="text" placeholder="Write message here" class="w-full focus:outline-none focus:placeholder-gray-400 text-gray-700 placeholder-gray-500 pl-12 bg-gray-200 rounded-lg py-3 h-10"><div class="absolute right-0 items-center inset-y-0 hidden sm:flex"><button type="button" class="inline-flex items-center justify-center rounded-lg px-4 py-2.5 transition duration-500 ease-in-out text-white border-blue-500 hover:bg-indigo-500 focus:outline-none "><span class="font-bold"></span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 ml-2 transform rotate-0"><path d="M3 13.0001H9V11.0001H3V1.8457C3 1.56956 3.22386 1.3457 3.5 1.3457C3.58425 1.3457 3.66714 1.36699 3.74096 1.4076L22.2034 11.562C22.4454 11.695 22.5337 11.9991 22.4006 12.241C22.3549 12.3241 22.2865 12.3925 22.2034 12.4382L3.74096 22.5925C3.499 22.7256 3.19497 22.6374 3.06189 22.3954C3.02129 22.3216 3 22.2387 3 22.1544V13.0001Z">'),[pe,J]=x(""),Fe=(e,t)=>{const s=e.target.value;e.key==="Enter"?(J(""),P(n=>[...n,{value:s,type:0}]),ye(),G(!0),window.updateChatScroll!==void 0&&window.updateChatScroll()):J(s)},ze=(e,t)=>{const s=pe();J(""),P(n=>[...n,{value:s,type:0}]),ye(),G(!0),window.updateChatScroll!==void 0&&window.updateChatScroll()};function ye(e){const t="Hello";return setTimeout(()=>{const s=[...me(),{value:t,type:1}];G(!1),P(n=>s),window.updateChatScroll!==void 0&&window.updateChatScroll()},3e3),t}function Ge(){return v(O,{get when(){return q()},get children(){const e=We(),t=e.firstChild,s=t.firstChild,n=s.firstChild,l=n.firstChild,i=l.firstChild,c=l.nextSibling,r=c.firstChild,a=r.firstChild,u=r.nextSibling,o=s.nextSibling,w=o.nextSibling,d=w.firstChild,p=d.firstChild,C=p.nextSibling,A=C.firstChild;return S(l,v(O,{get when(){return ie()},get children(){return He()}}),i),S(l,v(O,{get when(){return!ie()},get children(){return qe()}}),i),S(a,()=>B().name),S(u,()=>B().description),S(o,v(Ie,{get each(){return me()},children:(y,_)=>y.type===0?v(Oe,{get message(){return y.value}}):v(Ve,{get message(){return y.value}})}),null),S(o,v(O,{get when(){return ot()},get children(){return v(Re,{})}}),null),p.$$keyup=Fe,A.$$click=ze,N(y=>{const _=`rounded-md ${q()?"fade-in":"fade-out"}`,m=B().imageURL;return _!==y._v$&&ke(e,y._v$=_),m!==y._v$2&&X(i,"src",y._v$2=m),y},{_v$:void 0,_v$2:void 0}),N(()=>p.value=pe()),e}})}ge(["keyup","click"]);function Ke(e){ee({...Y(),name:e})}function Qe(e){ee({...Y(),description:e})}function Xe(e){ee({...Y(),imageURL:e})}function Ze(e){P(t=>[...t,{value:e,type:0}])}function Je(e){te({...B(),name:e})}function Ye(e){te({...B(),description:e})}function et(e){te({...B(),imageURL:e})}function tt(e){rt(e)}function st(e){G(e)}function nt(e){P(t=>[...t,{value:e,type:1}])}function lt(){return{setPrimaryUserName:Ke,setPrimaryUserDescription:Qe,setPrimaryUserImageURL:Xe,setPrimaryUserMessage:Ze,setSecondaryUserName:Je,setSecondaryUserDescription:Ye,setSecondaryUserImageURL:et,setSecondaryUserIsOnline:tt,setSecondaryUserIsTyping:st,setSecondaryUserMessage:nt}}const[q,it]=x(!1),[Y,ee]=x({name:"",description:"",imageURL:"/src/assets/primary-user.png"}),[B,te]=x({name:"",description:"",imageURL:"/src/assets/secondary-user.png"}),[ie,rt]=x(!1),[ot,G]=x(!1),[me,P]=x([]);window.updateChatScroll=()=>{const e=document.getElementById("messages");e!==null&&(e.scrollTop=e.scrollHeight)};window.getBodhifyChatWidgetCtxEntry=lt;const ct=()=>[v(Me,{}),v(Ge,{})],we=document.createElement("div");we.id="bodhify-chat-widget";document.body.appendChild(we);const at=document.getElementById("bodhify-chat-widget");Te(()=>v(ct,{}),at);
